/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _hubspot_calling_extensions_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hubspot/calling-extensions-sdk */ \"./node_modules/@hubspot/calling-extensions-sdk/dist/main.js\");\n/* harmony import */ var _hubspot_calling_extensions_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hubspot_calling_extensions_sdk__WEBPACK_IMPORTED_MODULE_0__);\n// import CallingExtensions from \"../../src/CallingExtensions\";\n// import { errorType } from \"../../src/Constants\";\n\nconst { errorType } = _hubspot_calling_extensions_sdk__WEBPACK_IMPORTED_MODULE_0__.Constants;\n\nconst state = {\n  phoneNumber: \"\",\n  engagementId: 0,\n};\n\nfunction disableButtons(ids) {\n  ids.forEach(id => {\n    document.querySelector(`#${id}`).setAttribute(\"disabled\", true);\n  });\n}\n\nfunction enableButtons(ids) {\n  ids.forEach(id => {\n    document.querySelector(`#${id}`).removeAttribute(\"disabled\");\n  });\n}\n\nfunction initialize() {\n  enableButtons([\"login\", \"senderror\", \"resize\"]);\n}\n\nfunction toggleLogin() {\n  enableButtons([\"login\"]);\n  disableButtons([\"logout\", \"startcall\", \"answercall\", \"endcall\", \"completecall\"]);\n}\n\nfunction toggleLogout() {\n  disableButtons([\"login\", \"initialize\"]);\n  enableButtons([\"logout\", \"startcall\"]);\n}\n\nfunction startCall() {\n  disableButtons([\"startcall\"]);\n  enableButtons([\"answercall\", \"endcall\"]);\n}\n\nfunction answerCall() {\n  disableButtons([\"answercall\"]);\n}\n\nfunction endCall() {\n  disableButtons([\"answercall\", \"endcall\"]);\n  enableButtons([\"completecall\", \"startcall\"]);\n}\n\nfunction completeCall() {\n  disableButtons([\"completecall\"]);\n  enableButtons([\"startcall\"]);\n}\n\nconst callback = () => {\n  const defaultSize = {\n    width: 400,\n    height: 600,\n  };\n\n  const cti = new (_hubspot_calling_extensions_sdk__WEBPACK_IMPORTED_MODULE_0___default())({\n    debugMode: true,\n    eventHandlers: {\n      onReady: () => {\n        cti.initialized({\n          isLoggedIn: true,\n          sizeInfo: defaultSize,\n        });\n      },\n      onDialNumber: (data, rawEvent) => {\n        const { phoneNumber } = data;\n        state.phoneNumber = phoneNumber;\n      },\n      onEngagementCreated: (data, rawEvent) => {\n        const { engagementId } = data;\n        state.engagementId = engagementId;\n      },\n      onEndCall: () => {\n        window.setTimeout(() => {\n          cti.callEnded();\n        }, 500);\n      },\n      onVisibilityChanged: (data, rawEvent) => {\n      },\n    },\n  });\n\n  const element = document.querySelector(\".controls\");\n  element.addEventListener(\"click\", event => {\n    event.preventDefault();\n    const clickedButtonValue = event.target.value;\n    switch (clickedButtonValue) {\n      case \"initialized\":\n        cti.initialized({\n          isLoggedIn: false,\n        });\n        initialize();\n        break;\n      case \"log in\":\n        cti.userLoggedIn();\n        toggleLogout();\n        break;\n      case \"log out\":\n        cti.userLoggedOut();\n        toggleLogin();\n        break;\n      // Calls\n      case \"incoming call\":\n        window.setTimeout(() => {\n          cti.incomingCall();\n        }, 500);\n        break;\n      case \"outgoing call started\": {\n        startCall();\n        window.setTimeout(() => {\n          cti.outgoingCall({\n            createEngagement: \"true\",\n            phoneNumber: state.phoneNumber,\n          });\n        }, 500);\n        break;\n      }\n      case \"call answered\":\n        answerCall();\n        cti.callAnswered();\n        break;\n      case \"call ended\":\n        endCall();\n        cti.callEnded();\n        break;\n      case \"call completed\":\n        completeCall();\n        cti.callCompleted({\n          engagementId: state.engagementId,\n          hideWidget: false,\n        });\n        break;\n      case \"send error\":\n        cti.sendError({\n          type: errorType.GENERIC,\n          message: \"This is a message shown in Hubspot UI\",\n        });\n        break;\n      case \"change size\":\n        defaultSize.width += 20;\n        defaultSize.height += 20;\n        cti.resizeWidget({\n          width: defaultSize.width,\n          height: defaultSize.height,\n        });\n        break;\n      default:\n        break;\n    }\n  });\n};\n\nif (\n  document.readyState === \"interactive\"\n  || document.readyState === \"complete\"\n) {\n  window.setTimeout(() => callback(), 1000);\n} else {\n  document.addEventListener(\"DOMContentLoaded\", callback);\n}\n\n\n//# sourceURL=webpack://calling-extensions-sdk-demo-minimal-js/./index.js?");

/***/ }),

/***/ "./node_modules/@hubspot/calling-extensions-sdk/dist/main.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@hubspot/calling-extensions-sdk/dist/main.js ***!
  \*******************************************************************/
/***/ ((module) => {

eval("/*\n * ATTENTION: The \"eval\" devtool has been used (maybe by default in mode: \"development\").\n * This devtool is neither made for production nor for readable output files.\n * It uses \"eval()\" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with \"devtool: false\".\n * If you are looking for production-ready output files, see mode: \"production\" (https://webpack.js.org/configuration/mode/).\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse { var i, a; }\n})(self, () => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./index.js\":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"Constants\\\": () => (/* reexport module object */ _src_Constants__WEBPACK_IMPORTED_MODULE_1__),\\n/* harmony export */   \\\"IFrameManager\\\": () => (/* reexport safe */ _src_IFrameManager__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"]),\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony import */ var _src_CallingExtensions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/CallingExtensions */ \\\"./src/CallingExtensions.js\\\");\\n/* harmony import */ var _src_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/Constants */ \\\"./src/Constants.js\\\");\\n/* harmony import */ var _src_IFrameManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/IFrameManager */ \\\"./src/IFrameManager.js\\\");\\n\\n\\n\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_src_CallingExtensions__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]);\\n\\n\\n//# sourceURL=webpack://@hubspot/calling-extensions-sdk/./index.js?\");\n\n/***/ }),\n\n/***/ \"./src/CallingExtensions.js\":\n/*!**********************************!*\\\n  !*** ./src/CallingExtensions.js ***!\n  \\**********************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony import */ var _IFrameManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IFrameManager */ \\\"./src/IFrameManager.js\\\");\\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Constants */ \\\"./src/Constants.js\\\");\\n/* harmony import */ var _packageInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./packageInfo */ \\\"./src/packageInfo.js\\\");\\n\\\"use es6\\\";\\n\\nfunction _typeof(obj) { \\\"@babel/helpers - typeof\\\"; return _typeof = \\\"function\\\" == typeof Symbol && \\\"symbol\\\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \\\"function\\\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }, _typeof(obj); }\\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \\\"prototype\\\", { writable: false }); return Constructor; }\\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \\\"string\\\"); return _typeof(key) === \\\"symbol\\\" ? key : String(key); }\\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \\\"object\\\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \\\"default\\\"); if (_typeof(res) !== \\\"object\\\") return res; throw new TypeError(\\\"@@toPrimitive must return a primitive value.\\\"); } return (hint === \\\"string\\\" ? String : Number)(input); }\\n\\n\\n\\n\\n/**\\n * @typedef {Object} EventHandlers\\n * @property {function} onReady - Called when HubSpot is ready to receive messages.\\n * @property {function} onDialNumber - Called when the HubSpot sends a dial number from the contact.\\n * @property {function} onEngagementCreated - Called when HubSpot creates an engagement\\n * for the call.\\n * @property {function} onVisibilityChanged - Called when the call widget's visibility changes.\\n */\\n\\n/**\\n * @typedef {Object} Options\\n * @property {boolean} debugMode - Whether to log various inbound/outbound debug messages\\n * to the console.\\n * @property {EventHandlers} eventHandlers - Event handlers handle inbound messages.\\n */\\n\\n/*\\n * CallingExtensions allows call providers to communicate with HubSpot.\\n */\\nvar CallingExtensions = /*#__PURE__*/function () {\\n  /**\\n   * @param {Options} options\\n   */\\n  function CallingExtensions(options) {\\n    var _this = this;\\n    _classCallCheck(this, CallingExtensions);\\n    if (!options || !options.eventHandlers) {\\n      throw new Error(\\\"Invalid options or missing eventHandlers.\\\");\\n    }\\n    this.options = options;\\n    this.iFrameManager = new _IFrameManager__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]({\\n      debugMode: options.debugMode,\\n      onMessageHandler: function onMessageHandler(event) {\\n        return _this.onMessageHandler(event);\\n      }\\n    });\\n  }\\n  _createClass(CallingExtensions, [{\\n    key: \\\"initialized\\\",\\n    value: function initialized(userData) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.INITIALIZED,\\n        data: _objectSpread(_objectSpread({}, userData), {}, {\\n          sdkVersion: (0,_packageInfo__WEBPACK_IMPORTED_MODULE_2__.getVersion)()\\n        })\\n      });\\n    }\\n  }, {\\n    key: \\\"userLoggedIn\\\",\\n    value: function userLoggedIn() {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.LOGGED_IN\\n      });\\n    }\\n  }, {\\n    key: \\\"userLoggedOut\\\",\\n    value: function userLoggedOut() {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.LOGGED_OUT\\n      });\\n    }\\n  }, {\\n    key: \\\"incomingCall\\\",\\n    value: function incomingCall(callDetails) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.INCOMING_CALL,\\n        data: callDetails\\n      });\\n    }\\n  }, {\\n    key: \\\"outgoingCall\\\",\\n    value: function outgoingCall(callDetails) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.OUTGOING_CALL_STARTED,\\n        data: callDetails\\n      });\\n    }\\n  }, {\\n    key: \\\"callAnswered\\\",\\n    value: function callAnswered() {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.CALL_ANSWERED\\n      });\\n    }\\n  }, {\\n    key: \\\"callData\\\",\\n    value: function callData(data) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.CALL_DATA,\\n        data: data\\n      });\\n    }\\n  }, {\\n    key: \\\"callEnded\\\",\\n    value: function callEnded(engagementData) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.CALL_ENDED,\\n        data: engagementData\\n      });\\n    }\\n  }, {\\n    key: \\\"callCompleted\\\",\\n    value: function callCompleted(callCompletedData) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.CALL_COMPLETED,\\n        data: callCompletedData\\n      });\\n    }\\n  }, {\\n    key: \\\"sendError\\\",\\n    value: function sendError(errorData) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.ERROR,\\n        data: errorData\\n      });\\n    }\\n  }, {\\n    key: \\\"resizeWidget\\\",\\n    value: function resizeWidget(sizeInfo) {\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.RESIZE_WIDGET,\\n        data: sizeInfo\\n      });\\n    }\\n  }, {\\n    key: \\\"sendMessage\\\",\\n    value: function sendMessage(message) {\\n      this.iFrameManager.sendMessage(message);\\n    }\\n  }, {\\n    key: \\\"onMessageHandler\\\",\\n    value: function onMessageHandler(event) {\\n      var type = event.type,\\n        data = event.data;\\n      var eventHandlers = this.options.eventHandlers;\\n      var handler;\\n      switch (type) {\\n        case _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.READY:\\n          {\\n            var onReady = eventHandlers.onReady;\\n            handler = onReady;\\n            break;\\n          }\\n        case _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.DIAL_NUMBER:\\n          {\\n            var onDialNumber = eventHandlers.onDialNumber;\\n            handler = onDialNumber;\\n            break;\\n          }\\n        case _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.ENGAGEMENT_CREATED:\\n          {\\n            var onEngagementCreated = eventHandlers.onEngagementCreated;\\n            handler = onEngagementCreated;\\n            break;\\n          }\\n        case _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.END_CALL:\\n          {\\n            var onEndCall = eventHandlers.onEndCall;\\n            handler = onEndCall;\\n            break;\\n          }\\n        case _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.VISIBILITY_CHANGED:\\n          {\\n            var onVisibilityChanged = eventHandlers.onVisibilityChanged;\\n            handler = onVisibilityChanged;\\n            break;\\n          }\\n        case _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.SET_CALL_STATE:\\n          {\\n            var onSetCallState = eventHandlers.onSetCallState;\\n            handler = onSetCallState;\\n            break;\\n          }\\n        default:\\n          {\\n            // Send back a message indicating an unknown event is received\\n            this.sendMessage({\\n              type: _Constants__WEBPACK_IMPORTED_MODULE_1__.messageType.ERROR,\\n              data: {\\n                type: _Constants__WEBPACK_IMPORTED_MODULE_1__.errorType.UNKNOWN_MESSAGE_TYPE,\\n                data: {\\n                  originalMessage: event\\n                }\\n              }\\n            });\\n            break;\\n          }\\n      }\\n      handler = handler || eventHandlers.defaultEventHandler;\\n      if (handler) {\\n        handler(data, event);\\n      } else {\\n        console.error(\\\"No event handler is available to handle message of type: \\\".concat(type));\\n      }\\n    }\\n  }]);\\n  return CallingExtensions;\\n}();\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CallingExtensions);\\n\\n//# sourceURL=webpack://@hubspot/calling-extensions-sdk/./src/CallingExtensions.js?\");\n\n/***/ }),\n\n/***/ \"./src/Constants.js\":\n/*!**************************!*\\\n  !*** ./src/Constants.js ***!\n  \\**************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"VERSION\\\": () => (/* binding */ VERSION),\\n/* harmony export */   \\\"errorType\\\": () => (/* binding */ errorType),\\n/* harmony export */   \\\"messageType\\\": () => (/* binding */ messageType)\\n/* harmony export */ });\\n\\\"use es6\\\";\\n\\nvar VERSION = \\\"0.0.1\\\";\\nvar messageTypeList = [\\\"CALL_ANSWERED\\\", \\\"CALL_COMPLETED\\\", \\\"CALL_DATA\\\", \\\"CALL_ENDED\\\", \\\"DIAL_NUMBER\\\", \\\"ENGAGEMENT_CREATED\\\", \\\"END_CALL\\\", \\\"ERROR\\\", \\\"INCOMING_CALL\\\", \\\"INITIALIZED\\\", \\\"LOGGED_IN\\\", \\\"LOGGED_OUT\\\", \\\"OUTGOING_CALL_STARTED\\\", \\\"READY\\\", \\\"RESIZE_WIDGET\\\", \\\"SET_CALL_STATE\\\", \\\"SET_WIDGET_URL\\\", \\\"SYNC\\\", \\\"SYNC_ACK\\\", \\\"SYNC_ACK_FAILED\\\", \\\"UNLOADING\\\", \\\"VISIBILITY_CHANGED\\\"];\\nvar errorTypeList = [\\\"UNKNOWN_MESSAGE_TYPE\\\", \\\"GENERIC\\\"];\\nfunction mirrorKeys(keyList) {\\n  var keyObject = {};\\n  keyList.forEach(function (keyName) {\\n    keyObject[keyName] = keyName;\\n  });\\n  return keyObject;\\n}\\nvar messageType = mirrorKeys(messageTypeList);\\nvar errorType = mirrorKeys(errorTypeList);\\n\\n//# sourceURL=webpack://@hubspot/calling-extensions-sdk/./src/Constants.js?\");\n\n/***/ }),\n\n/***/ \"./src/IFrameManager.js\":\n/*!******************************!*\\\n  !*** ./src/IFrameManager.js ***!\n  \\******************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"default\\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Constants */ \\\"./src/Constants.js\\\");\\n/* harmony import */ var _packageInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./packageInfo */ \\\"./src/packageInfo.js\\\");\\n\\\"use es6\\\";\\n\\nfunction _typeof(obj) { \\\"@babel/helpers - typeof\\\"; return _typeof = \\\"function\\\" == typeof Symbol && \\\"symbol\\\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \\\"function\\\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }, _typeof(obj); }\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \\\"prototype\\\", { writable: false }); return Constructor; }\\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \\\"string\\\"); return _typeof(key) === \\\"symbol\\\" ? key : String(key); }\\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \\\"object\\\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \\\"default\\\"); if (_typeof(res) !== \\\"object\\\") return res; throw new TypeError(\\\"@@toPrimitive must return a primitive value.\\\"); } return (hint === \\\"string\\\" ? String : Number)(input); }\\n\\n\\n\\n/*\\n * IFrameManager abstracts the iFrame communication between the IFrameHost and an IFrame\\n * An IFrameManager instance can act as part of the IFrameHost and an IFrame depending on\\n * the options.\\n */\\nvar prefix = \\\"[calling-extensions-sdk@\\\".concat((0,_packageInfo__WEBPACK_IMPORTED_MODULE_1__.getVersion)(), \\\"]\\\");\\nvar IFrameManager = /*#__PURE__*/function () {\\n  function IFrameManager(options) {\\n    var _this = this;\\n    _classCallCheck(this, IFrameManager);\\n    this.options = options;\\n    var iFrameOptions = options.iFrameOptions,\\n      onMessageHandler = options.onMessageHandler,\\n      debugMode = options.debugMode;\\n    this.onMessageHandler = onMessageHandler;\\n    if (!this.onMessageHandler) {\\n      throw new Error(\\\"Invalid options: onMessageHandler is not defined\\\");\\n    }\\n    this.isIFrameHost = !!iFrameOptions;\\n    this.debugMode = debugMode;\\n\\n    // Keeps track of all the callbacks\\n    this.callbacks = {};\\n    this.instanceId = Date.now();\\n    this.instanceRegexp = new RegExp(\\\"^\\\".concat(this.instanceId));\\n    this.isReady = false;\\n    this.messageHandler = function (event) {\\n      return _this.onMessage(event);\\n    };\\n    window.addEventListener(\\\"message\\\", this.messageHandler);\\n    if (iFrameOptions) {\\n      this.iFrame = IFrameManager.createIFrame(iFrameOptions, function () {\\n        _this.firstSyncSent = Date.now();\\n        _this.isReady = false;\\n        _this.sendSync();\\n      });\\n    }\\n    this.destinationWindow = iFrameOptions ? this.iFrame.contentWindow : window.parent;\\n    this.destinationHost = IFrameManager.getDestinationHost(iFrameOptions);\\n  }\\n\\n  /*\\n   * Creates a new message id\\n   */\\n  _createClass(IFrameManager, [{\\n    key: \\\"handleLoadError\\\",\\n    value: function handleLoadError() {\\n      this.onMessageHandler({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SYNC_ACK_FAILED\\n      });\\n    }\\n  }, {\\n    key: \\\"updateIFrameSize\\\",\\n    value: function updateIFrameSize(sizeInfo) {\\n      var width = sizeInfo.width,\\n        height = sizeInfo.height;\\n      var formatSize = function formatSize(size) {\\n        return typeof size === \\\"number\\\" ? \\\"\\\".concat(size, \\\"px\\\") : size;\\n      };\\n      if (width) {\\n        this.iFrame.setAttribute(\\\"width\\\", formatSize(width));\\n      }\\n      if (height) {\\n        this.iFrame.setAttribute(\\\"height\\\", formatSize(height));\\n      }\\n    }\\n  }, {\\n    key: \\\"onReady\\\",\\n    value: function onReady() {\\n      this.isReady = true;\\n      this.onMessageHandler({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.READY\\n      });\\n    }\\n\\n    /*\\n     * Unload the iFrame\\n     */\\n  }, {\\n    key: \\\"remove\\\",\\n    value: function remove() {\\n      window.removeEventListener(\\\"message\\\", this.messageHandler);\\n      if (this.iFrame) {\\n        var element = IFrameManager.getHostElement(this.options.iFrameOptions.hostElementSelector);\\n        element.innerHTML = \\\"\\\";\\n        this.isReady = false;\\n        this.iFrame = null;\\n        this.options = null;\\n      }\\n    }\\n\\n    /*\\n     * Send a message to the destination window.\\n     */\\n  }, {\\n    key: \\\"sendMessage\\\",\\n    value: function sendMessage(message, callback) {\\n      var type = message.type;\\n      if (type !== _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SYNC && !this.isReady) {\\n        // Do not send a message unless the iFrame is ready to receive.\\n        console.warn(prefix, \\\"iFrame not initialized to send a message within HubSpot\\\", message);\\n        return;\\n      }\\n      var messageId = message.messageId;\\n      if (!messageId) {\\n        // Initiating a new message\\n        messageId = IFrameManager.createMessageId(this.instanceId);\\n        if (callback) {\\n          // Keep track of the callback\\n          this.callbacks[messageId] = callback;\\n        }\\n      }\\n      var newMessage = Object.assign({}, message, {\\n        messageId: messageId\\n      });\\n      this.logDebugMessage(prefix, \\\"To HubSpot\\\", type, message);\\n      this.destinationWindow.postMessage(newMessage, this.destinationHost);\\n    }\\n  }, {\\n    key: \\\"onMessage\\\",\\n    value: function onMessage(event) {\\n      var data = event.data,\\n        origin = event.origin;\\n      var type = event.data.type;\\n      if (type === _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SYNC) {\\n        // The iFrame host can send this message multiple times, don't respond more than once\\n        if (!this.isReady) {\\n          this.isReady = true;\\n          var message = Object.assign({}, event.data, {\\n            type: _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SYNC_ACK,\\n            debugMode: this.debugMode,\\n            version: _Constants__WEBPACK_IMPORTED_MODULE_0__.VERSION,\\n            iFrameUrl: IFrameManager.extractHostFromUrl(window.location.href)\\n          });\\n          var hostUrl = event.data.hostUrl;\\n          this.destinationHost = hostUrl || this.destinationHost;\\n          this.sendMessage(message);\\n          this.onReady();\\n        }\\n        return;\\n      }\\n      if (this.destinationHost !== origin) {\\n        // Ignore messages from an unknown origin\\n        return;\\n      }\\n      if (type === _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SET_WIDGET_URL) {\\n        var iFrameUrl = data.iFrameUrl;\\n        this.destinationHost = iFrameUrl || this.destinationHost;\\n        return;\\n      }\\n      var messageId = data.messageId;\\n      if (!messageId || !type) {\\n        return;\\n      }\\n      this.logDebugMessage(prefix, \\\"From HubSpot\\\", type, {\\n        data: data\\n      });\\n      if (this.instanceRegexp.test(messageId)) {\\n        // This is a response to some message generated by HubSpot\\n        var callBack = this.callbacks[messageId];\\n        if (callBack) {\\n          callBack(data);\\n          delete this.callbacks[messageId];\\n        }\\n        return;\\n      }\\n\\n      // This is a new message, let the handler handle it.\\n      this.onMessageHandler(data);\\n    }\\n  }, {\\n    key: \\\"sendSync\\\",\\n    value: function sendSync() {\\n      var _this2 = this;\\n      // No SYNC_ACK message after 30sec results in a failure\\n      if (Date.now() - this.firstSyncSent > 30000) {\\n        this.onMessageHandler({\\n          type: _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SYNC_ACK_FAILED\\n        });\\n        return;\\n      }\\n      this.sendMessage({\\n        type: _Constants__WEBPACK_IMPORTED_MODULE_0__.messageType.SYNC,\\n        hostUrl: IFrameManager.extractHostFromUrl(window.location.href)\\n      }, function (eventData) {\\n        var iFrameUrl = eventData.iFrameUrl;\\n        _this2.destinationHost = iFrameUrl || _this2.destinationHost;\\n        _this2.onReady();\\n        _this2.debugMode = eventData && eventData.debugMode;\\n      });\\n\\n      // In cases where the call widget loads the calling extensions asynchronously, message\\n      // handlers may not be set up - retry until a response from the iFrame\\n      window.setTimeout(function () {\\n        if (_this2.iFrame && !_this2.isReady) {\\n          _this2.sendSync();\\n        }\\n      }, 100);\\n    }\\n  }, {\\n    key: \\\"logDebugMessage\\\",\\n    value: function logDebugMessage() {\\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\\n        args[_key] = arguments[_key];\\n      }\\n      if (this.debugMode) {\\n        console.log.call(null, args);\\n        return;\\n      }\\n      console.debug.call(null, args);\\n    }\\n  }], [{\\n    key: \\\"createMessageId\\\",\\n    value: function createMessageId(instanceId) {\\n      return \\\"\\\".concat(instanceId, \\\"_\\\").concat(Date.now());\\n    }\\n\\n    /*\\n     * Gets the html element that hosts the iFrame\\n     */\\n  }, {\\n    key: \\\"getHostElement\\\",\\n    value: function getHostElement(hostElementSelector) {\\n      var hostElement = document.querySelector(hostElementSelector);\\n      if (!hostElement) {\\n        throw new Error(\\\"hostElement not found. Selector - \\\".concat(hostElementSelector));\\n      }\\n      return hostElement;\\n    }\\n  }, {\\n    key: \\\"extractHostFromUrl\\\",\\n    value: function extractHostFromUrl(url) {\\n      var a = document.createElement(\\\"a\\\");\\n      a.href = url;\\n      return \\\"\\\".concat(a.protocol, \\\"//\\\").concat(a.host);\\n    }\\n  }, {\\n    key: \\\"getDestinationHost\\\",\\n    value: function getDestinationHost(iFrameOptions) {\\n      var url = iFrameOptions ? iFrameOptions.src : document.referrer;\\n      return IFrameManager.extractHostFromUrl(url);\\n    }\\n  }, {\\n    key: \\\"createIFrame\\\",\\n    value: function createIFrame(iFrameOptions, onLoadCallback) {\\n      var src = iFrameOptions.src,\\n        width = iFrameOptions.width,\\n        height = iFrameOptions.height,\\n        hostElementSelector = iFrameOptions.hostElementSelector;\\n      if (!src || !width || !height || !hostElementSelector) {\\n        throw new Error(\\\"iFrameOptions is missing one of the required properties - {src, width, height, hostElementSelector}.\\\");\\n      }\\n      var iFrame = document.createElement(\\\"iFrame\\\");\\n      iFrame.onload = onLoadCallback;\\n      iFrame.onerror = this.handleLoadError;\\n      iFrame.src = src;\\n      iFrame.width = width;\\n      iFrame.height = height;\\n      iFrame.allow = \\\"microphone; autoplay\\\";\\n      iFrame.id = \\\"hubspot-calling-extension-iframe\\\";\\n      var element = IFrameManager.getHostElement(hostElementSelector);\\n      element.innerHTML = \\\"\\\";\\n      element.appendChild(iFrame);\\n      return element.querySelector(\\\"iFrame\\\");\\n    }\\n  }]);\\n  return IFrameManager;\\n}();\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IFrameManager);\\n\\n//# sourceURL=webpack://@hubspot/calling-extensions-sdk/./src/IFrameManager.js?\");\n\n/***/ }),\n\n/***/ \"./src/packageInfo.js\":\n/*!****************************!*\\\n  !*** ./src/packageInfo.js ***!\n  \\****************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"getVersion\\\": () => (/* binding */ getVersion)\\n/* harmony export */ });\\n\\\"use es6\\\";\\n\\nvar _require = __webpack_require__(/*! ../package.json */ \\\"./package.json\\\"),\\n  version = _require.version;\\nfunction getVersion() {\\n  return version;\\n}\\n\\n//# sourceURL=webpack://@hubspot/calling-extensions-sdk/./src/packageInfo.js?\");\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/***/ ((module) => {\n\neval(\"module.exports = JSON.parse('{\\\"name\\\":\\\"@hubspot/calling-extensions-sdk\\\",\\\"version\\\":\\\"0.1.1-beta.1\\\",\\\"description\\\":\\\"HubSpot calling extensions sdk for call widget integration.\\\",\\\"publishConfig\\\":{\\\"access\\\":\\\"public\\\"},\\\"scripts\\\":{\\\"build\\\":\\\"webpack\\\",\\\"build:test\\\":\\\"npm run build && npm run test\\\",\\\"cover\\\":\\\"open coverage/lcov-report/index.html\\\",\\\"eslint\\\":\\\"eslint src --ext .js\\\",\\\"eslint:fix\\\":\\\"eslint src .js --fix\\\",\\\"preversion\\\":\\\"npm run build:test\\\",\\\"postversion\\\":\\\"git push --follow-tags\\\",\\\"publish:alpha\\\":\\\"npm version prerelease --preid alpha && npm publish --access public --tag next\\\",\\\"publish:beta\\\":\\\"npm version prerelease --preid beta && npm publish --access public --tag beta\\\",\\\"publish:patch\\\":\\\"npm version patch && npm publish --access public\\\",\\\"publish:minor\\\":\\\"npm version minor && npm publish --access public\\\",\\\"publish:major\\\":\\\"npm version major && npm publish --access public\\\",\\\"publish:preminor\\\":\\\"npm version preminor && npm run publish:alpha\\\",\\\"publish:premajor\\\":\\\"npm version premajor && npm run publish:alpha\\\",\\\"test:build\\\":\\\"npx webpack --config webpack-test.config.js --mode development\\\",\\\"test:watch\\\":\\\"npx webpack --config webpack-test.config.js --mode development --watch\\\",\\\"test:serve\\\":\\\"cross-env NODE_ENV=test npm run test:watch & jasmine-browser-runner serve --config=test/support/jasmine-browser.json\\\",\\\"test\\\":\\\"cross-env NODE_ENV=test npm run test:build && jasmine-browser-runner runSpecs --config=test/support/jasmine-browser.json --browser=headlessChrome\\\"},\\\"main\\\":\\\"./dist/main.js\\\",\\\"files\\\":[\\\"dist/\\\"],\\\"module\\\":\\\"./index.js\\\",\\\"author\\\":\\\"\\\",\\\"license\\\":\\\"MIT\\\",\\\"engines\\\":{\\\"node\\\":\\\">=14\\\"},\\\"devDependencies\\\":{\\\"@babel/cli\\\":\\\"^7.21.0\\\",\\\"@babel/core\\\":\\\"^7.4.5\\\",\\\"@babel/preset-env\\\":\\\"^7.21.4\\\",\\\"@typescript-eslint/eslint-plugin\\\":\\\"^5.59.7\\\",\\\"@typescript-eslint/parser\\\":\\\"^5.59.7\\\",\\\"babel-loader\\\":\\\"^8.0.6\\\",\\\"cross-env\\\":\\\"^7.0.3\\\",\\\"eslint\\\":\\\"^8.41.0\\\",\\\"eslint-config-airbnb\\\":\\\"^19.0.4\\\",\\\"eslint-plugin-import\\\":\\\"^2.27.5\\\",\\\"eslint-plugin-jsx-a11y\\\":\\\"^6.7.1\\\",\\\"eslint-plugin-react\\\":\\\"^7.32.2\\\",\\\"eslint-plugin-react-hooks\\\":\\\"^4.6.0\\\",\\\"jasmine-browser-runner\\\":\\\"^1.3.0\\\",\\\"jasmine-core\\\":\\\"^4.6.0\\\",\\\"typescript\\\":\\\"^5.0.4\\\",\\\"webpack\\\":\\\"^5.77.0\\\",\\\"webpack-cli\\\":\\\"^5.0.1\\\"}}');\\n\\n//# sourceURL=webpack://@hubspot/calling-extensions-sdk/./package.json?\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_29709__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __nested_webpack_require_29709__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__nested_webpack_require_29709__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__nested_webpack_require_29709__.o(definition, key) && !__nested_webpack_require_29709__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__nested_webpack_require_29709__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__nested_webpack_require_29709__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can't be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __nested_webpack_require_29709__(\"./index.js\");\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n\n//# sourceURL=webpack://calling-extensions-sdk-demo-minimal-js/./node_modules/@hubspot/calling-extensions-sdk/dist/main.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});